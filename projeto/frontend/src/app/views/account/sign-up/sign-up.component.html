<div class="page-container">
  <form class="form-card mat-elevation-z4" [formGroup]="signUpForm">
      <h2>Cadastro</h2>
      
      <mat-form-field>
        <mat-label>Nome completo</mat-label>
        <input matInput placeholder="Nome" formControlName="name">
      
        @if(signUpForm.controls['name'].hasError('required')){
          <mat-error>
            Campo obrigatório
          </mat-error>
        }
      
        @if(signUpForm.controls['name'].hasError('minlength')){
          <P class="text-danger">
              Nome deve ter no minimo {{nameMinLength}} cararacteres.
          </P>
          }
        
        @else if(signUpForm.controls['name'].hasError('maxlength')){
          <p class="text-danger">
              Nome deve ter no maximo {{nameMaxLength}} cararacteres.
          </p>
          }
      </mat-form-field>
    
      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput placeholder="Email" formControlName="email" type="email">
        
        @if(signUpForm.controls['email'].hasError('required')){
          <mat-error>
            Campo obrigatório
          </mat-error>
        }
      
        @if(signUpForm.controls['email'].hasError('email')){
          <p class="text-danger">
            Email inválido.
          </p>
        }
      </mat-form-field>
    
      <mat-form-field>
        <mat-label>Senha</mat-label>
        <input matInput placeholder="Senha" formControlName="password" type="password">
      
        @if(signUpForm.controls['password'].hasError('required')){
          <mat-error>
            Campo obrigatório
          </mat-error>
        }
      
        @if(signUpForm.controls['password'].hasError('minlength')){
          <p class="text-danger">
            Senha deve ter no minimo {{passwordMinLength}} cararacteres.
          </p>
        }
      
        @else if(signUpForm.controls['password'].hasError('maxlength')){
          <p class="text-danger">
            Senha deve ter no maximo {{passwordMaxLength}} cararacteres.
          </p>
        }
      </mat-form-field>
    
    
      <mat-form-field>
        <mat-label>Repita a senha</mat-label>
        <input matInput type="password" placeholder="Repita a senha" formControlName="repeatPassword">
      
        @if(signUpForm.controls['repeatPassword'].hasError('required')){
          <mat-error>
            Campo obrigatório
          </mat-error>
        }
      
        @if(!arePasswordsValid()){
        <p class="text-danger">
          As senhas não são iguais.
        </p>
        }
      </mat-form-field>
    
      <mat-form-field>
        <mat-label>Número de Telefone</mat-label>
        <input matInput placeholder="Número" formControlName="phone">
      
        @if(signUpForm.controls['phone'].hasError('required')){
          <mat-error>
            Campo obrigatório
          </mat-error>
        }
      
        @if(signUpForm.controls['phone'].hasError('minlength')){
          <p class="text-danger">
            Número deve ter no minimo {{phoneMinlength}} cararacteres.</p>
          }
        
          @else if(signUpForm.controls['phone'].hasError('maxlength')){
          <p class="text-danger">
              Número deve ter no maximo {{phoneMaxlength}} cararacteres.</p>
          }
      </mat-form-field>
    
      <div class="user-type-buttons">
        <label class="user-type">Tipo de usuário</label>
        <div class="button-group">
          <button class="user-type-button" mat-raised-buttoncolor="primary"[disabled]="signUpForm.get('userType')?.value === 'donor' "(click)="signUpForm.get('userType')?.setValue('donor')">
            Doador
          </button>
          <button class="user-type-button" mat-raised-buttoncolor="accent"[disabled]="signUpForm.get('userType')?.value === 'beneficiary' "(click)="signUpForm.get('userType')?.setValue('beneficiary')">
            Beneficiário
          </button>
        </div>
      </div>
    
      <mat-form-field>
        <mat-label>Rua</mat-label>
        <input matInput placeholder="Rua" formControlName="street">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Número</mat-label>
        <input matInput placeholder="Número" formControlName="number">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Bairro</mat-label>
        <input matInput placeholder="Bairro" formControlName="neighborhood">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Cidade</mat-label>
        <mat-select formControlName="city">
          <mat-option value="Santa Rita do Sapucaí">Santa Rita do Sapucaí</mat-option>
          <mat-option value="Pouso Alegre">Pouso Alegre</mat-option>
          <mat-option value="Itajubá">Itajubá</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>CEP (opcional)</mat-label>
        <input matInput placeholder="00000-000" formControlName="zipCode" maxlength="9">
      </mat-form-field>

      @if (signUpForm.get('userType')?.value === 'beneficiary') {
        <mat-form-field>
          <mat-label>Renda familiar</mat-label>
          <input matInput placeholder="Renda" formControlName="familyIncome" type="phone">
        </mat-form-field>
      
        <mat-form-field>
          <mat-label>Quantidade de pessoas</mat-label>
          <input matInput placeholder="Quantidade" formControlName="peopleQuantity" type="phone">
        </mat-form-field>
      }
      
      <div class="content-center">
        <button mat-raised-button class="primary-button" color="primary" [disabled]="!validateFields()" (click)="signUp()">Criar</button>
      </div>    
      <router-outlet></router-outlet>
      <hr>
      <div class="action-section">
          <p>Já possui uma conta? <a class="link-text" href="account/sign-in">Clique aqui</a> para entrar agora mesmo!</p>
      </div>
      <div class="central-description">
        <!-- <div id="wallpaper" [ngStyle]="{'background-image': 'url(' + wallpaperUrl + ')'}"></div> -->
      </div>
      
  </form>
</div>